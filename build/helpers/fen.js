"use strict";var getBoardSnapshot=function(n){for(var r="",t=7;t>=0;t--){for(var e=0,i=0;i<8;i++){var o=n[t][i].piece;o?(e>0&&(r+=e),r+=o._id[0],e=0):8!==++e&&7!==i||(r+=e)}t>0&&(r+="/")}return r},checkCastling=function(n){var r=n.active,t="",e=r.white.concat(r.black),i=e.find(function(n){return"R1"===n._id}),o=e.find(function(n){return"R2"===n._id}),a=e.find(function(n){return"K"===n._id});i.hasMoved||a.hasMoved||(t+="K"),o.hasMoved||a.hasMoved||(t+="Q");var d=e.find(function(n){return"r1"===n._id}),c=e.find(function(n){return"r2"===n._id}),s=e.find(function(n){return"k"===n._id});return c.hasMoved||s.hasMoved||(t+="k"),d.hasMoved||s.hasMoved||(t+="q"),t};exports.getBoardSnapshot=getBoardSnapshot,exports.checkCastling=checkCastling;